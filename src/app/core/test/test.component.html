<div id="mediasoup-demo-app-container">
  <div data-component="Room">
    <div data-component="Notifications"></div>
    <div class="state" *ngIf="isOnlyConsumer()">
      <div class="icon connected">
      </div>
      <p class="text connected"  >connected</p>
    </div>
    <div class="room-link-wrapper">
      <div class="room-link">
        <a class="link" rel="noopener noreferrer" target="_blank" (click)="getMeetingLink()" *ngIf="!isOnlyConsumer()">Meeting link</a>
      </div>
      <div class="room-link">
        <a class="link" rel="noopener noreferrer" target="_blank" (click)="getBroadcastingLink()" *ngIf="!isOnlyConsumer()">Broadcasting link</a>
      </div>
    </div>
    <div data-component="Peers">
      <div class="peer-container" *ngFor="let peer of peers | keyvalue" >
        <div *ngIf="notConsumer(peer.value.kind)" data-component="Peer" >
          <div class="indicators">
            <div class="icon mic-off" ></div>
            <div class="icon webcam-off" ><span class="icon webcam-off" ></span></div>
          </div>
          <div data-component="PeerView">
            <div class="info">
              <div class="icons">
                <div class="icon info" ></div>
                <div class="icon stats"></div>
              </div>
              <div class="peer">
                <span class="display-name">{{peer.key}}</span>
                <div class="row">
                  <span class="device-icon edge"></span><span class="device-version"></span>
                </div>
              </div>
            </div>
            <video autoplay="" playsinline [id]="peer.key" [srcObject]="getMemberVideoStream(peer.key)"></video>
            <audio autoplay="" playsinline  [srcObject]="getMemberAudioStream(peer.key)" ></audio>
            <canvas class="face-detection"></canvas>
            <div class="volume-container">
              <div class="bar level0"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="me-container" *ngIf="!isOnlyConsumer()">
      <div data-component="Me">
        <div class="controls">
          <div [ngClass]="{'button mic': true,'on':audioEnabled, 'off':!audioEnabled}" (click)="toggleAudio()"></div>
          <div [ngClass]="{'button webcam': true,'on':videoEnabled, 'off':!videoEnabled}" (click)="toggleVideo()"></div>
          <div class="button share off" (click)="printConsumers()" ></div>
        </div>
        <div data-component="PeerView">
          <div class="info">
            <div class="icons">
              <div class="icon info"></div>
              <div class="icon stats"></div>
            </div>
            <div class="peer is-me">
              <span class="display-name editable" tabindex="0">
                {{ user_id }}
              </span>
              <div class="row">
                <span class="device-icon chrome"></span>
                <span class="device-version"></span>
              </div>
            </div>
          </div>
          <video autoplay class="is-me" playsinline [srcObject]="getLocalStream()" *ngIf="videoEnabled"></video>
          <audio autoplay playsinline></audio>
          <canvas class="face-detection is-me"></canvas>
          <div class="volume-container">
            <div class="bar level0"></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>





